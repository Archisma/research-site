<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Archisma Ghosal – Research</title>

<style>
:root{
  --bg:#0b1020;
  --panel:#111a33;
  --panel-soft:rgba(255,255,255,.06);
  --border:rgba(255,255,255,.14);
  --text:#e9eeff;
  --muted:#aab6d6;
  --accent:#6aa6ff;
  --accent-soft:rgba(106,166,255,.15);
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
  color:var(--text);
  background:
    radial-gradient(1200px 700px at 10% 10%, #17244a 0%, var(--bg) 55%),
    linear-gradient(180deg,#0e1530,var(--bg));
}
.container{max-width:1200px;margin:0 auto;padding:22px}
.hero{
  text-align:center;
  background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02));
  border:1px solid var(--border);
  border-radius:22px;
  padding:26px 18px;
}
.hero h1{margin:0;font-size:42px}
.hero p{margin:10px 0 0;color:var(--muted)}

.grid{
  margin-top:18px;
  display:grid;
  grid-template-columns:1.25fr .75fr;
  gap:16px;
}
@media(max-width:900px){.grid{grid-template-columns:1fr}}

.card{
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:16px;
  padding:16px;
}
label{display:block;font-size:13px;color:var(--muted);margin:10px 0 6px}
input,select,textarea{
  width:100%;
  background:rgba(0,0,0,.25);
  color:var(--text);
  border:1px solid var(--border);
  border-radius:14px;
  padding:12px;
}
.row{display:grid;grid-template-columns:1fr 300px;gap:12px}
@media(max-width:700px){.row{grid-template-columns:1fr}}

.section{
  margin-top:12px;
  padding:14px;
  background:var(--panel-soft);
  border:1px solid var(--border);
  border-radius:14px;
}
.section h2{margin:0;font-size:18px}

.pill{
  display:inline-block;
  margin-left:8px;
  font-size:12px;
  padding:6px 10px;
  border-radius:999px;
  background:rgba(255,255,255,.08);
  border:1px solid var(--border);
  color:var(--muted);
}

.helper{margin-top:8px;font-size:14px;color:var(--muted);line-height:1.45}

.chips{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:10px;
  margin-top:12px;
}
@media(max-width:520px){.chips{grid-template-columns:1fr}}

.chip{
  padding:12px;
  border-radius:14px;
  background:rgba(255,255,255,.05);
  border:1px solid var(--border);
  cursor:pointer;
}
.chip:hover{background:var(--accent-soft);border-color:var(--accent)}

.buttons{
  display:flex;
  gap:12px;
  justify-content:center;
  margin-top:16px;
}
button{
  min-width:170px;
  padding:12px 18px;
  border-radius:14px;
  border:none;
  font-weight:700;
  cursor:pointer;
  background:linear-gradient(180deg,#7bb1ff,#5a90ff);
  color:#08142f;
}
.ghost{
  background:rgba(255,255,255,.07);
  color:var(--text);
  border:1px solid var(--border);
}

textarea{
  margin-top:10px;
  min-height:200px;
  resize:vertical;
  font-family:ui-monospace,monospace;
}
.status{margin-top:10px;font-size:12px;color:var(--muted)}
</style>
</head>

<body>
<div class="container">
  <div class="hero">
    <h1>Welcome to Archisma Ghosal's Research page</h1>
    <p>Please provide the item that you need to do the research.</p>
  </div>

  <div class="grid">
    <div class="card">
      <div class="row">
        <div>
          <label>Topic of research</label>
          <input id="topic"/>
        </div>
        <div>
          <label>Category of research</label>
          <select id="mode" onchange="renderTips()">
            <option value="confidential">Confidential (Aurora)</option>
            <option value="public">Public (Internet)</option>
          </select>
        </div>
      </div>

      <div class="section">
        <h2 id="sectionTitle"></h2>
        <span class="pill" id="pill"></span>

        <p class="helper" id="helperText"></p>
        <div class="chips" id="chips"></div>
      </div>

      <div class="buttons">
        <button onclick="runResearch()">Run research</button>
        <button class="ghost" onclick="out.value=''">Clear output</button>
      </div>

      <label>Research Output</label>
      <textarea id="out" readonly></textarea>
      <div class="status" id="status">Status: Idle</div>
    </div>

    <div class="card">
      <h3>Info</h3>
      <p class="helper">Public search uses live internet sources. Confidential search is Aurora-only.</p>
    </div>
  </div>
</div>

<script>
const API_BASE="https://archisma-research-backend.onrender.com";
const PUBLIC_URL=API_BASE+"/public_search";
const SEARCH_URL=API_BASE+"/search";

const confidentialSamples=[
 "List the major HR policies mentioned in the Aurora policy manual.",
 "According to the policy manual, what rules exist about remote or hybrid work?",
 "Summarize Aurora Systems' code of conduct and disciplinary process.",
 "What is the leave policy (PTO/sick leave) described in the policy manual?",
 "What are the security and data handling rules for employees?",
 "Summarize Aurora Systems' strategic pillars and long-term goals.",
 "What are the top strategic initiatives for the next 3 years?",
 "Show revenue by quarter for 2023 and summarize the trend.",
 "What is the trend of R&D spend by quarter in 2023?",
 "Compare gross margin % across 2023 quarters and summarize the trend."
];

const publicSamples=[
 "How is the weather today in New York?",
 "What is the stock price of Apple today?",
 "Summarize today's top technology news headlines.",
 "What are the latest updates in AI this week?",
 "Explain what RAG is in simple words.",
 "Give me a travel plan for a 2-day trip to Boston.",
 "What is the current price of Bitcoin?",
 "Find recent updates about OpenAI products.",
 "What are the best free cloud hosting options for small apps?",
 "What is the latest NVIDIA earnings summary?"
];

function renderTips(){
  chips.innerHTML="";
  const isPublic=mode.value==="public";
  sectionTitle.textContent=isPublic?"Public Search (Internet)":"Confidential Search (Aurora)";
  pill.textContent=isPublic?"≤ 100 words":"Aurora-only";
  helperText.innerHTML=isPublic
    ?"I am putting my researcher hat on — tell me what you want to research.<br><strong>Public search:</strong> I will return results within <strong>100 words</strong>. You can go beyond these examples."
    :"Confidential search is limited to Aurora internal data. Please stay within approved Aurora topics.";
  (isPublic?publicSamples:confidentialSamples).forEach(t=>{
    const d=document.createElement("div");
    d.className="chip";
    d.textContent=t;
    d.onclick=()=>topic.value=t;
    chips.appendChild(d);
  });
}

function trim100(t){
 const w=t.split(/\s+/);
 return w.length<=100?t:w.slice(0,100).join(" ")+" …";
}

async function runResearch(){
 const q=topic.value.trim();
 if(!q)return;
 status.textContent="Status: Running…";
 const isPublic=mode.value==="public";
 const r=await fetch(isPublic?PUBLIC_URL:SEARCH_URL,{
  method:"POST",
  headers:{"Content-Type":"application/json"},
  body:JSON.stringify(isPublic?{topic:q}:{query:q})
 });
 const j=await r.json();
 out.value=isPublic?trim100(j.answer||""):j.answer||"";
 status.textContent="Status: Done";
}

renderTips();
</script>
</body>
</html>
